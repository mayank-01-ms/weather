const CACHE_NAME="weather-v1";self.addEventListener("install",e=>{e.waitUntil(caches.open(CACHE_NAME).then(e=>{e.addAll(["/weather/offline.html"]).then(()=>self.skipWaiting())}))}),self.addEventListener("fetch",e=>{"navigate"===e.request.mode&&e.respondWith(fetch(e.request.url).catch(e=>caches.match("offline.html")))}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(CACHE_NAME!==e)return caches.delete(e)}))))});
